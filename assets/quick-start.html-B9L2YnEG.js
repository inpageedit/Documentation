import{_ as s,c as a,a as e,o as t}from"./app-BUO_Z_l1.js";const p={};function i(c,n){return t(),a("div",null,n[0]||(n[0]=[e(`<h1 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手"><span>快速上手</span></a></h1><p>安装 InPageEdit 十分简单，通常情况下只需要<strong>几秒</strong>就能完成。</p><h2 id="个人-js-使用" tabindex="-1"><a class="header-anchor" href="#个人-js-使用"><span>个人 js 使用</span></a></h2><p>在大多数 MediaWiki 网站上，都允许用户添加自定义的 JavaScript，您可以通过编辑个人 js 页面安装 InPageEdit。</p><ol><li>前往您的个人 js 页面，这个页面通常是<code>User:&lt;你的用户名&gt;/common.js</code></li><li>点击“编辑”按钮</li><li>在编辑框中添加以下内容：</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * 从下面的方法中任选一个即可 Choose one from the following</span>
<span class="line"> */</span></span>
<span class="line"><span class="token comment">// 1. jsdelivr</span></span>
<span class="line">mw<span class="token punctuation">.</span>loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;https://cdn.jsdelivr.net/npm/mediawiki-inpageedit&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// 2. unpkg</span></span>
<span class="line">mw<span class="token punctuation">.</span>loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">&#39;https://unpkg.com/mediawiki-inpageedit&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>点击“保存”按钮</li><li>完成，请享用~</li></ol><h2 id="通过小工具开启" tabindex="-1"><a class="header-anchor" href="#通过小工具开启"><span>通过小工具开启</span></a></h2><p>有一些 wiki 网站（例如<a href="https://zh.moegirl.org.cn/Special:%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE#mw-prefsection-gadgets" target="_blank" rel="noopener noreferrer">萌娘百科</a>）已经通过小工具（Gadget）安装了本插件，在这些网站上，我们推荐直接在设置里打钩启用它。</p><ol><li>前往<code>Special:Preferences</code>页面或者通过网页上的<code>参数设置</code>链接进入“参数设置”页面</li><li>从页面的导航条选中“小工具”</li><li>找到带有“InPageEdit”字样的选择框，打钩选中它</li><li>翻到页面底部，点击“保存”按钮</li><li>完成，请享用~</li></ol><h2 id="通过浏览器扩展安装" tabindex="-1"><a class="header-anchor" href="#通过浏览器扩展安装"><span>通过浏览器扩展安装</span></a></h2><p>有一些 MediaWiki 网站出于对安全的考虑，禁用了个人 js 功能，而且也没有通过小工具安装本插件（例如灰机 Wiki 上的大部分站点）。在这种情况下如果您想使用本插件，需要通过浏览器扩展来实现。</p><p>使浏览器运行 js 插件的扩展市面上有很多，在此不赘述具体实现方案，这里仅仅提供一种加载的思路。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// RLQ是MediaWiki保存异步执行函数的数组</span></span>
<span class="line">  window<span class="token punctuation">.</span><span class="token constant">RLQ</span> <span class="token operator">=</span> <span class="token constant">RLQ</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token constant">RLQ</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 等待jQuery加载完毕</span></span>
<span class="line">    <span class="token keyword">var</span> _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> _interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      _count<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> jQuery <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// jQuery加载完毕</span></span>
<span class="line">        <span class="token function">clearInterval</span><span class="token punctuation">(</span>_interval<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 防止网站并不是MediaWiki时报错</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">          mw<span class="token punctuation">.</span>loader<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token comment">/* InPageEdit Path */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_count <span class="token operator">&gt;</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 加载超时</span></span>
<span class="line">        <span class="token function">clearInterval</span><span class="token punctuation">(</span>_interval<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="安装要求" tabindex="-1"><a class="header-anchor" href="#安装要求"><span>安装要求</span></a></h2><p>InPageEdit 是一个基于 JavaScript 的插件，在编写时使用了很多 jQuery 的语法以及 ECMAScript 版本大于 2018 的语法，在请求 MediaWiki API 时也用到了一些比较新的接口，因此建议你在现代浏览器以及尽可能新的 MediaWiki 网站上使用。在未来并没有兼容过时浏览器或者老版本 MediaWiki 的计划。</p><h3 id="支持的浏览器" tabindex="-1"><a class="header-anchor" href="#支持的浏览器"><span>支持的浏览器</span></a></h3><table class="browsersupport"><tbody><tr><th>IE</th><th>Firefox</th><th>Chrome</th><th>Safari</th><th>Opera</th></tr><tr class="browsericons"><td class="bsNoIE">不支持IE浏览器</td><td class="bsFirefox">最新2个版本</td><td class="bsChrome">最新2个版本</td><td class="bsSafari">最新2个版本</td><td class="bsOpera">最新2个版本</td></tr></tbody></table><h3 id="mediawiki-版本" tabindex="-1"><a class="header-anchor" href="#mediawiki-版本"><span>MediaWiki 版本</span></a></h3><ul><li>MediaWiki &gt; 1.20.x</li></ul><h3 id="jquery-版本" tabindex="-1"><a class="header-anchor" href="#jquery-版本"><span>jQuery 版本</span></a></h3><ul><li>jQuery &gt; 1.9.x</li></ul>`,22)]))}const o=s(p,[["render",i]]),u=JSON.parse('{"path":"/guide/install/quick-start.html","title":"快速上手","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1744982503000,"contributors":[{"name":"dragon-fish","username":"dragon-fish","email":"dragon-fish@qq.com","commits":1,"url":"https://github.com/dragon-fish"}],"changelog":[{"hash":"aa4f9bb6393acdca70b430fbc9e6cf3d1b7f44d4","time":1744982503000,"email":"dragon-fish@qq.com","author":"dragon-fish","message":"chore: 14.5.2 update logs"}]},"filePathRelative":"guide/install/quick-start.md"}');export{o as comp,u as data};
